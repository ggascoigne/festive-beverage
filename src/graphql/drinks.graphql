fragment recipeFields on Recipe {
  name
  description
  recipeIngredients {
    nodes {
      ingredient {
        name
      }
      amount
      unit {
        name
      }
    }
  }
  instructions
  glass
  garnish
  source
  id
}

fragment recipeConnectionFields on RecipesConnection {
  nodes {
    ...recipeFields
  }
}

query getAllDrinks {
  recipes(orderBy: NAME_ASC) {
    ...recipeConnectionFields
  }
}

query getFilteredDrinks($value: String!) {
  recipes(filter: { ts: { matches: $value } }, orderBy: NAME_ASC) {
    ...recipeConnectionFields
  }
}

query getAllIngredients {
  ingredients(orderBy: NAME_ASC) {
    nodes {
      name
      tags
    }
  }
}

query getDrinkById($id: Int!) {
  recipe(id: $id) {
    ...recipeFields
  }
}
